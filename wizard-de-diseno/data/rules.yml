version: "2.0"

rules:
- rule: fallback wikipedia
  steps:
  - intent: nlu_fallback
  - action: action_default_fallback

- rule: entradas form
  steps:
  - action: action_analizar_entradas
  - slot_was_set:
    - termino_entradas: False
  - action: preguntas_entrada_form
  - active_loop: preguntas_entrada_form

- rule: desactivar entradas form y terminar
  condition:
  - active_loop: preguntas_entrada_form
  steps:
  - action: preguntas_entrada_form
  - slot_was_set:
    - termino_entradas: True
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_guardar_entrada

- rule: desactivar entradas form y seguir preguntando
  condition:
  - active_loop: preguntas_entrada_form
  steps:
  - action: preguntas_entrada_form
  - slot_was_set:
    - termino_entradas: False
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_guardar_entrada
  - action: preguntas_entrada_form
  - active_loop: preguntas_entrada_form

# TODO: ARMAR MISMA ESTRUCTURA PERO PARA SALIDASSSS
    
